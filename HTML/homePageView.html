<!DOCTYPE html>
<html lang="en">

<head>
<title>내가 알지 못한 곳 - HOME</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
<!--[if lt IE 9]>
<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<link rel="shortcut icon" href="images/favicon.ico" />
<link href='https://fonts.googleapis.com/css?family=Lato:400,300,700&amp;subset=latin,latin-ext' rel='stylesheet' type='text/css'>
<link rel="stylesheet" type="text/css" href="../../../resources/bootstrap/css/bootstrap.min.css" />
<link rel="stylesheet" type="text/css" href="../../../resources/bootstrap/css/animate.css" />
<link rel="stylesheet" type="text/css" href="../../../resources/bootstrap/css/font-awesome.min.css" />
<link rel="stylesheet" type="text/css" href="../../../resources/bootstrap/css/swiper.min.css" />
<link rel="stylesheet" type="text/css" href="../../../resources/bootstrap/css/style.css" />
<link rel="stylesheet" type="text/css" href="../../../resources/customize/css/homepageView.css" />

<script src="../../../resources/bootstrap/js/pace.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="../../../resources/bootstrap/js/bootstrap.min.js"></script>
<script src="../../../resources/bootstrap/js/swiper.jquery.min.js"></script>
<script src="../../../resources/bootstrap/js/animate-on-scroll.js"></script>
<script src="../../../resources/bootstrap/js/script.js"></script>

<script src="../../../resources/js/myroute/myRoute.js"></script>
<script src="../../../resources/js/myroute/myRouteController.js"></script>
<script src="../../../resources/js/myhiddenplace/myHiddenPlace.js"></script>
<script src="../../../resources/js/myhiddenplace/myHiddenPlaceController.js"></script>
<script src="../../../resources/js/homepage/homepageController.js"></script>

<!-- 로그인,회원가입 스타일-->
<style>
.home-headmenu {
  font-size: 12px;
  margin-bottom: 50px; 
  text-align: center;
}
.home-headmenu .menu-links {
  display: inline-block;
  padding: 15px;
  list-style: none;
}
.home-headmenu .menu-links li {
  float: left;
  margin-right: 15px;
}
li {
    float: left;
   font-size: 14px;
}
li p, .dropbtn {
    display: inline-block;
    color: black;
    text-align: center;
    padding: 14px 16px;
    text-decoration: none;
}
li.dropdown {
    display: inline-block;
}
.dropdown-content {
    display: none;
    position: absolute;
    background-color: #f9f9f9;
    min-width: 160px;
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
}
.dropdown-content p {
    color: black;
    padding: 12px 16px;
    text-decoration: none;
    display: block;
    text-align: left;
}
.dropdown-content p:hover {background-color: #f1f1f1}
.dropdown:hover .dropdown-content {
    display: block;
}

#headmenu-header {
   margin-top: 0 !important;
}

.jumbotron {
   padding: 0;
   position: fixed;
   width: 100%;
   height: 71px;
   opacity: 0.8;
   z-index: 3;
   margin: 0;
   background-color: white;
}

section {
   padding-top: 71px;
}

.logo {
   width: 180px;
   margin: 10px;
   margin-left: 19%;
}

#headmenu-div {
    float: right; 
    margin: 12px 18% 8px 1%; 
    
   /*background-color: #eee;
            background: #eee;*/
   z-index: 5;
}

#headmenu-login, #headmenu-userInsert,
#headmenu-logout, #headmenu-myInfo,
#headmenu-bookmark{
	color: black;
	/*font-weight: bold;*/
	font-size: 13px;
	border:none;
	background-color: white;
	//#25d2d2
}

#headmenu-logout:hover,#headmenu-login:hover,
#headmenu-userInsert:hover,#headmenu-myInfo:hover,
#headmenu-bookmark:hover {
	color:white;
}

header {
	margin: 0;
}
.jumbotron {
	padding: 0;
	position: fixed;
	width: 100%;
	opacity: 0.8;
	z-index: 3;
	margin: 0;
}

section {
	padding-top: 71px; 
}

.logo {
	width: 180px;
	margin: 10px;
	margin-left: 18%; 
}

#headmenu_div {
	float: right;
	margin: 15px 18% 8px 1%;
	z-index: 5;
}

#headmenu-login, #headmenu-userInsert,
#headmenu-logout, #headmenu-myInfo,
#headmenu-bookmark {
	color: black;
	/*font-weight: bold;*/
	font-size: 16px;
}

#search_bar {
	width: 400px;
	height: 40px;
	font-size: 20px;
}

.search_bar:focus + button {
	z-index: 3;   
}

#search_bar,
#search_button {
	position: absolute;
	right: 45%;
	top: 15px;
	border: 0;
}

#search_bar:focus {
	outline: none;
}

</style>

<style>

@font-face {
   font-family: 'baemin';
   src: url(../../../resources/bootstrap/fonts/배달의민족주아체.ttf) format('truetype');
}

.bestTitle {
   font-family: 'baemin';
   font-size: 50px;
}

.bookmark_star {
  position: absolute !important; 
  right: 3%;
  top: 3%; 
  max-width: 25px;
  height: auto;
  margin: 0;
  z-index: 5;
}

.figureMHP figcaption > p {
	margin-left: -150px;
	font-size: 15px;
}

.figureMR figcaption > p {
	margin-left: -200px;
	font-size: 15px;
}

.hTextLine {
    white-space: nowrap; 
    width: 25em;
    text-align: right;
    overflow: hidden;
    text-overflow: ellipsis;
}

.imgSize {
 	height: 360px;
}

hr {
	border: solid 1px #f7f5f0;
}


</style>
</head>

<!-- 홈페이지 head menu 이벤트 핸들링 -->
<script type="text/javascript">
   $(document).ready(function() {
      
      //session에 저장되있는 userId값 가져오기
	  var loginState = localStorage.getItem('userId');
      var loginState = "qwer522";
      
      var headmenuLink1;
      var headmenuLink2;
      var headmenuLink3;

      if(loginState == null) {
         headmenuLink1 = $('<button id="headmenu-login" class="btn btn-default">로그인</button>');
         headmenuLink2 = $('<button id="headmenu-userInsert" class="btn btn-default">회원가입</button>');
      
         $('#headmenu-div').append(headmenuLink1, headmenuLink2);
      } else {
         headmenuLink1 = $('<button id="headmenu-myInfo" class="btn btn-default">'+loginState+'</button>');
         headmenuLink2 = $('<button id="headmenu-bookmark" class="btn btn-default">즐겨찾기</button>');
         headmenuLink3 = $('<button id="headmenu-logout" class="btn btn-default">로그아웃</button>');
     
         $('#headmenu-div').append(headmenuLink1, headmenuLink2, headmenuLink3);
      }
      
   });
</script>

<!-- 홈페이지 MyHiddenPlace best3 이벤트 핸들링 -->
<script type="text/javascript">
	$(document).ready(function() {

			var nowLoginId = localStorage.getItem('userId');
			nowLoginId = "qwer522";
			var mhpController = new MyHiddenPlaceController();
			var myHiddenPlaces = mhpController.requestBestMHP();
			var bookmarkAll = mhpController.requestBookmarkAllMHP(nowLoginId);

			if(nowLoginId == null) {
				
				for (var i = 0; i < myHiddenPlaces.length; i++) {

					var figureMHP = $('<figure class="figureMHP" data-animation="fadeIn"></figure>'); //figure태그
					var imgMHP = $('<img class="imgSize" src="' + myHiddenPlaces[i].imageUrl + '"/>'); //이미지
					var figcaptionMHP = $('<figcaption></figcaption>'); //figcaption태그
					var hTitle = $('<h2 class="hTextLine"></h2>').html(myHiddenPlaces[i].title);
					var pUserNicknameMHP = $('<p></p>').html(myHiddenPlaces[i].userNickname); //작성자
					var pDateMHP = $('<p></p>').html(myHiddenPlaces[i].writeDate); //작성일자
					var pReadCountMHP = $('<p></p>').html(myHiddenPlaces[i].readCount); //추천수
					var pNumMHP = $('<p hidden></p>').html(myHiddenPlaces[i].num); //글번호
					
					figcaptionMHP.append(hTitle, pUserNicknameMHP, pDateMHP, pReadCountMHP, pNumMHP); //figcaption태그에 작성자, 작성일자, 추천수, 글번호
					figureMHP.append(imgMHP, figcaptionMHP); // figure태그에 이미지, figcaption append
					$('#bestMHP3').append(figureMHP); //내알못 div에 bestMHP[i] 게시글 append

				}
				
			} else {
			
				for (var i = 0; i < myHiddenPlaces.length; i++) {

					var figureMHP = $('<figure class="figureMHP" data-animation="fadeIn"></figure>'); //figure태그
					var imgMHP = $('<img class="imgSize" src="' + myHiddenPlaces[i].titleImgURL + '"/>'); //이미지
					var figcaptionMHP = $('<figcaption></figcaption>'); //figcaption태그
					var hTitle = $('<h2 class="hTextLine"></h2>').html(myHiddenPlaces[i].title);
					var pUserNicknameMHP = $('<p></p>').html(myHiddenPlaces[i].userNickName); //작성자
					var pDateMHP = $('<p></p>').html(myHiddenPlaces[i].writeDate); //작성일자
					var pReadCountMHP = $('<p></p>').html(myHiddenPlaces[i].readCount); //추천수
					var pNumMHP = $('<p hidden></p>').html(myHiddenPlaces[i].num); //글번호
					
					if(bookmarkAll.length > 0) {
						for(var j = 0; j < bookmarkAll.length; j++) {
						
								if(myHiddenPlaces[i].num == bookmarkAll[j].num) {
									var imgBookmark = $('<img class="bookmark_star" style="opacity:1" src="../../../resources/customize/images/bookmark_success_star.png" data-toggle="tooltip" data-placement="left" title="즐겨찾기 삭제하기" />');
									break;
								} else {
									var	imgBookmark = $('<img class="bookmark_star" style="opacity:1" src="../../../resources/customize/images/bookmark_star.png" data-toggle="tooltip" data-placement="left" title="즐겨찾기 추가하기" />');
								}
							
						}
					} else {
						var	imgBookmark = $('<img class="bookmark_star" style="opacity:1" src="../../../resources/customize/images/bookmark_star.png" data-toggle="tooltip" data-placement="left" title="즐겨찾기 추가하기" />');
					}

 
				figcaptionMHP.append(hTitle, pUserNicknameMHP, pDateMHP, pReadCountMHP, pNumMHP, imgBookmark); //figcaption태그에 작성자, 작성일자, 추천수, 글번호
				figureMHP.append(imgMHP, figcaptionMHP); // figure태그에 이미지, figcaption append
				$('#bestMHP3').append(figureMHP); //내알못 div에 bestMHP[i] 게시글 append
					
				}
				
			}

	});
</script>

<!-- 홈페이지 MyRoute best3 이벤트 핸들링 -->
<!-- <script type="text/javascript">
	$(document).ready(function() {

		var nowLoginId = localStorage.getItem('userId');
 		nowLoginId = "qwer522";
		var mrController = new MyRouteController();
		var myRoutes = mrController.requestBestMR();
		var bookmarkAll = mrController.requestBookmarkAllMR(nowLoginId);
		
		if(nowLoginId == null) {
			
			for (var i = 0; i < myRoutes.length; i++) {

				var figureMR = $('<figure class="figureMR" data-animation="fadeIn"></figure>'); //figure태그
				var imgMR = $('<img class="imgSize" src="' + myRoutes[i].imageUrl + '"/>'); //이미지
				var figcaptionMR = $('<figcaption></figcaption>'); //figcaption태그
				var hTitle = $('<h2 class="hTextLine"></h2>').html(myRoutes[i].title);
				var pUserNicknameMR = $('<p></p>').html(myRoutes[i].userNickname); //작성자
				var pDateMR = $('<p></p>').html(myRoutes[i].writeDate); //작성일자
				var pReadCountMR = $('<p></p>').html(myRoutes[i].readCount); //추천수
				var pNumMR = $('<p hidden></p>').html(myRoutes[i].num); //글번호
				
				figcaptionMR.append(hTitle, pUserNicknameMR, pDateMR, pReadCountMR, pNumMR); //figcaption태그에 작성자, 작성일자, 추천수, 글번호
				figureMR.append(imgMR, figcaptionMR); // figure태그에 이미지, figcaption append
				$('#bestMR3').append(figureMR); //내알못 div에 bestMHP[i] 게시글 append

			}
			
		} else {
		
			for (var i = 0; i < myRoutes.length; i++) {

				var figureMR = $('<figure class="figureMR" data-animation="fadeIn"></figure>'); //figure태그
				var imgMR = $('<img class="imgSize" src="' + myRoutes[i].imageUrl + '"/>'); //이미지
				var figcaptionMR = $('<figcaption></figcaption>'); //figcaption태그
				var hTitle = $('<h2 class="hTextLine"></h2>').html(myRoutes[i].title);
				var pUserNicknameMR = $('<p></p>').html(myRoutes[i].userNickname); //작성자
				var pDateMR = $('<p></p>').html(myRoutes[i].writeDate); //작성일자
				var pReadCountMR = $('<p></p>').html(myRoutes[i].readCount); //추천수
				var pNumMR = $('<p hidden></p>').html(myRoutes[i].num); //글번호
				
				if(bookmarkAll.length > 0) {
					for(var j = 0; j < bookmarkAll.length; j++) {
					
							if(myRoutes[i].num == bookmarkAll[j].num) {
								var imgBookmark = $('<img class="bookmark_star" style="opacity:1" src="../../../resources/customize/images/bookmark_success_star.png" data-toggle="tooltip" data-placement="left" title="즐겨찾기 삭제하기" />');
								break;
							} else {
								var	imgBookmark = $('<img class="bookmark_star" style="opacity:1" src="../../../resources/customize/images/bookmark_star.png" data-toggle="tooltip" data-placement="left" title="즐겨찾기 추가하기" />');
							}
						
					}
				} else {
					var	imgBookmark = $('<img class="bookmark_star" style="opacity:1" src="../../../resources/customize/images/bookmark_star.png" data-toggle="tooltip" data-placement="left" title="즐겨찾기 추가하기" />');
				}

				figcaptionMR.append(hTitle, pUserNicknameMR, pDateMR, pReadCountMR, pNumMR, imgBookmark); //figcaption태그에 작성자, 작성일자, 추천수, 글번호
				figureMR.append(imgMR, figcaptionMR); // figure태그에 이미지, figcaption append
				$('#bestMR3').append(figureMR); //내알못 div에 bestMHP[i] 게시글 append
				
			}
			
		}

});
</script>
 -->
<!-- 글조회 (MHP) 이벤트 핸들링 -->
<script>
$(document).ready(function() {
		$('.figureMHP').click(function() {
			var num = $(this).children().eq(1).children().eq(4).text();
			var mhpController = new MyHiddenPlaceController();
			mhpController.requestSelectOneMHP(num);
		});
});
</script>

<!-- 글조회 (MR) 이벤트 핸들링 -->
<script>
$(document).ready(function() {
		$('.figureMR').click(function() {
			var num = $(this).children().eq(1).children().eq(4).text();
			
			var mrController = new MyRouteController();
			mrController.requestSelectOneMR(num);
		});
});
</script>

<!-- MHP 즐겨찾기 등록 이벤트 핸들링 -->
<script>
$(document).ready(function() {
	$('.bookmark_star').click(function() {
		$('.figureMHP').unbind("click");
		
		var nowLoginId = localStorage.getItem('userId'); //현재 로그인한 사용자 아이디 가져오기
		nowLoginId = "qwer522";
   		var num = $(this).parent().children().eq(4).text();	//현재 클릭한 게시글의 글번호 가져오기
   		var mhpController = new MyHiddenPlaceController(); 
		var bookmarkAll = mhpController.requestBookmarkAllMHP(nowLoginId); //현재 로그인한 유저의 즐겨찾기 목록을 가져오기
		var isSuccess = false;
		
			for(i = 0; i < bookmarkAll.length; i++) {
   				if(num == bookmarkAll[i].num) {
   					var deleteBookmarkState = mhpController.requestDeleteBookmark(nowLoginId, num);
   		   			$(this).attr("src","../../../resources/customize/images/bookmark_star.png");
   		   			$(this).attr("title","즐겨찾기 추가하기");
   		   	   		alert("즐겨찾기가 해제되었습니다!");
   		   	   		isSuccess = true;
   				}
   			}
		
			if(isSuccess == false) {
				var insertBookmarkState = mhpController.requestInsertBookmark(nowLoginId, num);
		   		$(this).attr("src","../../../resources/customize/images/bookmark_success_star.png");
		   		$(this).attr("title","즐겨찾기 삭제하기");
		   		alert("즐겨찾기에 등록되었습니다!");
			}
			
		window.location.reload();
	});	
});
</script>

<!-- 로고(header) 클릭이벤트 -->
<script>
$(document).ready(function() {
	$('.logo').click(function() {
	
		var homepageController = new HomepageController;
		homepageController.requestHomepageUrl();
		
	});
});
</script>

<!-- 마이페이지(header) 클릭이벤트 -->
<script>
$(document).ready(function() {
	$('#headmenu-myInfo').click(function() {
	
		var homepageController = new HomepageController;
		homepageController.requestMypageUrl();
		
	});
});
</script>

<!-- 즐겨찾기(header) 클릭이벤트 -->
<script>
$(document).ready(function() {
	$('#headmenu-bookmark').click(function() {
	
		var homepageController = new HomepageController;
		homepageController.requestBookmarkUrl();
		
	});
});
</script>

<body class="home-page">
	
	
<!-- 상단 메뉴 헤더 -->
   <header id="headmenu-header" style="margin-top:0%;">
         <!-- <div class="container"> -->
			<div class="jumbotron">
			<a><img class="logo" src="../../../resources/customize/images/mhp.png" alt="Logo" style="cursor:pointer"/></a>
			<input id="search_bar" type="text" placeholder="#가산 #내가알지못한곳" />
            <button id="search_button" class="btn btn-default" type="button">
               <span class="glyphicon glyphicon-search"></span>
            </button>
			<div id="headmenu-div" class="btn-group">
             
             
			</div>
		</div>
   </header>
      
	
	<section>
			<img src="../../../resources/customize/images/home.jpg" alt="" />
	</section>

	<section>
		<div class="row" style="margin:0 5% 0 5%;">
			<div class="col-sm-12 col-md-12 col-md-offset-1" style="margin:0;"> 
				<p class="bestTitle">★My Hidden Place Best 1~3★</p>
				<div id="bestMHP3" class="portfolio grid-3">

				
				</div>
			</div>
		</div>
	</section>

	<hr>
	
	<!-- <section>
		<div class="row" style="margin:0 5% 0 5%;">
			<div class="col-sm-12 col-md-12 col-md-offset-1" style="margin:0;"> 
				<p class="bestTitle">★My Route Best 1~3★</p>
				<div id="bestMR3" class="portfolio grid-3">

				
				</div>
			</div>
		</div>
	</section>
 -->
</body>

</html>
